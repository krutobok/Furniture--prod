const topSliderItems=document.querySelectorAll(".top-slider__item"),menuBtn=document.querySelector(".header__mobile-menu"),menu=document.querySelector(".header__menu-list"),menuRight=document.querySelector(".header__right"),menuInner=document.querySelector(".header__inner");let clientWidth=document.documentElement.clientWidth;function menuFunction(){menu.classList.toggle("active"),menuRight.classList.toggle("active"),menuBtn.classList.toggle("active")}function menuResize(){(document.documentElement.clientWidth<641?menuRight:menuInner).appendChild(menu)}function check_webp_feature(t,n){var a=new Image;a.onload=function(){var e=0<a.width&&0<a.height;n(t,e)},a.onerror=function(){n(t,!1)},a.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t]}function slider(e){const t=document.querySelector(e),o=t.closest('[data-slider="wrapper"]'),n=t.closest('[data-slider="parent-block"]');let a=t.children,s=window.getComputedStyle(a[0]).getPropertyValue("width"),i=(s=parseInt(s.substring(0,s.length-2)),window.getComputedStyle(a[0]).getPropertyValue("margin-right"));i=parseInt(i.substring(0,i.length-2));const l=t.closest('[data-slider="inner"]'),r=n.querySelector('[data-arrow="right"]'),d=n.querySelector('[data-arrow="left"]');let c,m=window.getComputedStyle(l).getPropertyValue("width"),u=(m=parseInt(m.substring(0,m.length-2)),n.hasAttribute("data-anim")&&"true"===n.getAttribute("data-anim")&&(c=document.querySelector(".top-slider__btn-box")),Array.prototype.forEach.call(a,e=>{e.style.userSelect="none"}),1),A,f=1,g=[],v,h,p,b,y,L,w,x,E=0,_=500,S=_;if(n.hasAttribute("data-dots")?"true"===n.getAttribute("data-dots")&&(v=!0):v=!1,n.hasAttribute("data-center-mode"))if("true"===n.getAttribute("data-center-mode")){h=!0;for(let e=0;e<document.documentElement.clientWidth/s;e++)E++;A=-(s*E-(m-s)/2),t.style.transform="translateX("+(-A+(-2*s+(m-s)/2))+"px)",o.style.transform="translateX("+-(s*E-(m-s)/2)+"px)"}else h=!1,A=-s-i,o.style.transform="translateX("+(-s-i)+"px)";else h=!1,A=-s-i,o.style.transform="translateX("+(-s-i)+"px)";if(n.hasAttribute("data-autoplay")&&(L=!0,w=parseFloat(n.getAttribute("data-autoplay"))),v){const q=n.querySelector('[data-slider="dots-box"]');for(let e=0;e<a.length;e++){const T=document.createElement("button");T.classList.add("dot"),T.textContent=e+1,T.dataset.id=e+1,g.push(T),q.append(T)}g[0].classList.add("active"),g.forEach(t=>{t.addEventListener("click",()=>{var e=parseInt(t.getAttribute("data-id"));e>f?(p=Math.abs(e-f),S=_/p,C()):e<f&&(b=Math.abs(f-e),S=_/b,k())})})}function I(e=!0){if(!0===e&&(o.style.transition="transform .5s"),L&&(c.classList.remove("active"),clearInterval(y),y=null),-1===u&&(u+=a.length),0===(f=u%a.length)&&(f=a.length),h)for(let e=0;e<a.length;e++)a[e].classList.remove("active");setTimeout(()=>{a[(f+a.length-1)%a.length].style.order="1";for(let e=a.length-1;0<e;e--)a[(f+e-1)%a.length].style.order=(e+2).toString();if(h){t.style.transform="translateX("+(-A+(-2*s+(m-s)/2))+"px)";for(let e=0;e<a.length;e++)"4"===a[e].style.order&&a[e].classList.add("active")}else t.style.transform="translateX("+(-A-(s+i))+"px)";v&&(g.forEach(e=>e.classList.remove("active")),g[f-1].classList.add("active")),0<b?0<--b?k():S=_:0<p&&0<--p?C():S=_,L&&null===y&&(y=setInterval(C,1e3*w),c.classList.add("active"))},S)}function C(e=!0){A-=s+i,o.style.transform="translateX("+A+"px)",u+=1,I(e)}function k(e=!0){A+=s+i,o.style.transform="translateX("+A+"px)",--u,I(e)}r.addEventListener("click",()=>{C()}),d.addEventListener("click",()=>{k()}),l.addEventListener("touchstart",function(e){let t=e.targetTouches[0],n=void t.pageX,a=(o.style.transition="none",t);l.ontouchmove=e=>{a=e.targetTouches[0],x=a.pageX-t.pageX,o.style.transform="translateX("+(A+x)+"px)",x>=s+i?(S=0,t=e.targetTouches[0],k(!1)):x<=-s-i&&(S=0,t=e.targetTouches[0],C(!1))},l.ontouchend=()=>{n=a.pageX,t.pageX>n?C():t.pageX<n&&k(),l.ontouchmove=null,l.ontouchend=null}}),l.onmousedown=e=>{let t=e.pageX;function n(){x<0?C():0<x&&k(),l.onmouseleave=null,l.onmousemove=null,l.onmouseup=null}o.style.transition="none",x=0,L&&(clearInterval(y),y=null),l.onmousemove=e=>{x=e.pageX-t,o.style.transform="translateX("+(+A+x)+"px)",x>=s+i?(S=0,t=e.pageX,k(!1)):x<=-s-i&&(S=0,t=e.pageX,C(!1))},l.onmouseup=()=>{n()},l.onmouseleave=()=>{n()}},L&&(y=setInterval(C,1e3*w),c.classList.add("active")),window.addEventListener("resize",()=>{s=window.getComputedStyle(a[0]).getPropertyValue("width"),s=parseInt(s.substring(0,s.length-2)),i=window.getComputedStyle(a[0]).getPropertyValue("margin-right"),i=parseInt(i.substring(0,i.length-2)),m=window.getComputedStyle(l).getPropertyValue("width"),m=parseInt(m.substring(0,m.length-2)),o.style.transition="none",h?(A=-(s*E*f-(m-s)/2),t.style.transform="translateX("+(-A+(-2*s+(m-s)/2))+"px)",o.style.transform="translateX("+A+"px)"):(A=f*s,o.style.transform="translateX("+A+"px)",t.style.transform="translateX("+(-A-(s+i))+"px)")})}menuBtn.addEventListener("click",menuFunction),menuResize(),check_webp_feature("lossy",function(e,t){t?topSliderItems.forEach(e=>e.style.backgroundImage=e.style.backgroundImage+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"):topSliderItems.forEach(e=>{let t=e.style.backgroundImage.toString();t=t.slice(0,-6)+'jpg")',e.style.backgroundImage=t+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"})}),topSliderItems.forEach(e=>e.style.width=clientWidth+"px");const modalsBtn=[].slice.call(document.querySelectorAll('button[data-modal="modal"]')),modalWindow=document.querySelector(".modal"),modalInner=document.querySelector(".modal__inner"),form=document.querySelector(".modal__form"),modalBg=document.querySelector(".modal__bg"),modalBtnClose=document.querySelector(".btn__modal--close"),modalTitle=document.querySelector(".modal__title"),modalTextarea=document.querySelector(".modal__textarea"),modalTextareaLabel=document.querySelector("#textarea-label"),modalCheckbox=document.querySelector(".modal__checkbox"),modalText=document.querySelector(".modal__text "),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){function e(){input1.value="",input2.value="",modalWindow.classList.remove("active"),input1.classList.remove("invalid"),input2.classList.remove("invalid"),modalTextarea.value=""}form.addEventListener("submit",function(e){e.preventDefault();let t=3;var e=input1.value,n=input2.value;""===n&&(input2.classList.add("invalid"),t--);""===e&&(input1.classList.add("invalid"),t--);modalCheckbox.checked||(modalCheckbox.closest("label").classList.add("invalid"),t--);3<=t&&(form.classList.add("close"),modalInner.classList.add("thanked"),modalBtnClose.classList.add("thanked"),modalTitle.textContent="Дякуюємо!",modalText.textContent="Ваша заявка успішно відправилена")}),modalsBtn.forEach(e=>{e.addEventListener("click",function(){modalWindow.classList.add("active"),form.classList.remove("close"),modalBtnClose.classList.remove("thanked"),modalInner.classList.remove("thanked"),"1"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Хочете отримати подарунок?",modalText.textContent="Заповніть форму,  і ми звяжемося та розповімо про умови акції",modalTextarea.classList.remove("active")):"2"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Поговоримо?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextarea.setAttribute("placeholder","Тема"),modalTextareaLabel.textContent="Тема"):"3"===e.getAttribute("data-modal-num")&&(modalTitle.textContent="Хочете стати нашим партнером?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextareaLabel.textContent="Коротко про себе",modalTextarea.setAttribute("placeholder","Коротко про себе"))})}),modalBg.addEventListener("click",function(){e()}),modalBtnClose.addEventListener("click",function(){e()}),input1.addEventListener("input",()=>input1.classList.remove("invalid")),input2.addEventListener("input",()=>input2.classList.remove("invalid")),modalCheckbox.addEventListener("change",()=>{modalCheckbox.closest("label").classList.remove("invalid")})}modal();const forms=[].slice.call(document.querySelectorAll('form[data-form="thank"]'));function formThank(){function t(e){e.preventDefault()}forms.forEach(i=>{i.addEventListener("submit",t);const e=i.querySelector('button[type="submit"]');e.addEventListener("click",()=>{const e=[].slice.call(i.querySelectorAll("input"));let t=0;if(e.forEach(e=>{e.addEventListener("input",()=>e.classList.remove("invalid")),""===e.value&&"file"!==e.getAttribute("type")?e.classList.add("invalid"):""===e.value&&"file"===e.getAttribute("type")?(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):"checkbox"===e.getAttribute("type")?e.checked?t++:(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):""!==e.value&&"checkbox"!==e.getAttribute("type")&&t++}),t>=e.length){const n=i.closest('div[data-form="change"]'),a=(n.classList.add("active"),i.closest('div[data-form="parent"]')),o=a.querySelector('div[data-form="thank"]'),s=(o.classList.add("active"),n.classList.remove("resend"),o.classList.remove("resend"),o.querySelector('button[data-form="resend"]'));s.addEventListener("click",()=>{n.classList.remove("active"),n.classList.add("resend"),o.classList.add("resend"),o.classList.remove("active")})}})})}formThank();const benefitsAnimation=document.querySelector(".benefits__anim"),benefitsItems=benefitsAnimation.querySelectorAll(".benefits__item");let cords,itemsHeight=[],itemsCords=[];function benefitsPrev(){cords=getCoords(benefitsAnimation),itemsHeight=[],itemsCords=[],benefitsItems.forEach(e=>{itemsHeight.push(e.offsetHeight)});for(let n=0;n<benefitsItems.length;n++){let t=0;for(let e=0;e<=n;e++)t+=itemsHeight[e];itemsCords.push(t+cords.top)}}function benefitsMouseout(){benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")})}function benefits(t){let n;for(let e=0;e<itemsCords.length;e++){if(Math.floor(itemsCords[e]+60)>Math.floor(t.pageY)){n=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),n.style.transition="height .3s",benefitsItems[e].classList.add("active"),n.classList.add("active");break}Math.floor(itemsCords[e]+120)>Math.floor(t.pageY)&&itemsCords.length-1===e&&(n=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),benefitsItems[e].classList.add("active"),n.classList.add("active"),n.style.transition="height .05s")}n.style.top=t.pageY-cords.top-120+"px",n.style.left=t.pageX-170+"px"}function getCoords(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}}839<document.documentElement.clientWidth?(benefitsPrev(),benefitsAnimation.addEventListener("mousemove",benefits),benefitsAnimation.addEventListener("mouseout",benefitsMouseout)):(benefitsAnimation.removeEventListener("mousemove",benefits),benefitsAnimation.removeEventListener("mouseout",benefitsMouseout));const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120,scrollItems=(anchors.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(o.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,n=t-window.pageYOffset,a=setInterval(function(){var e=Math.abs(n)/framesCount;0<n?e>window.pageYOffset-t&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,t),clearInterval(a)):n<0?e<window.pageYOffset-t?window.scrollBy(0,-e):(window.scrollTo(0,t),clearInterval(a)):n&&clearInterval(a)},animationTime/framesCount)})}),document.querySelectorAll(".animate")),scrollAnimation=()=>{let n=window.innerHeight+window.scrollY;scrollItems.forEach(e=>{var t=getCoords(e).top+e.offsetHeight/2;n-e.offsetHeight>=t&&n-window.innerHeight<t&&e.classList.add("animation-active")})};scrollAnimation(),window.addEventListener("scroll",()=>{scrollAnimation()}),slider(".top-slider__content"),slider(".in-work-slider__content"),slider(".partners-slider__content"),window.addEventListener("resize",()=>{clientWidth=document.documentElement.clientWidth,topSliderItems.forEach(e=>e.style.width=clientWidth+"px"),menuResize(),839<document.documentElement.clientWidth?(benefitsPrev(),benefitsAnimation.addEventListener("mousemove",benefits),benefitsAnimation.addEventListener("mouseout",benefitsMouseout)):(benefitsAnimation.removeEventListener("mousemove",benefits),benefitsAnimation.removeEventListener("mouseout",benefitsMouseout))});