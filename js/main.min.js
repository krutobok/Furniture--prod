const topSliderItems=document.querySelectorAll(".top-slider__item"),menuBtn=document.querySelector(".header__mobile-menu"),menu=document.querySelector(".header__menu-list"),menuRight=document.querySelector(".header__right"),menuInner=document.querySelector(".header__inner");function menuFunction(){menu.classList.toggle("active"),menuRight.classList.toggle("active"),menuBtn.classList.toggle("active")}function menuResize(){(document.documentElement.clientWidth<641?menuRight:menuInner).appendChild(menu)}function check_webp_feature(t,n){var o=new Image;o.onload=function(){var e=0<o.width&&0<o.height;n(t,e)},o.onerror=function(){n(t,!1)},o.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t]}function slider(e){const t=document.querySelector(e),n=t.closest('[data-slider="wrapper"]'),o=t.closest('[data-slider="parent-block"]');n.style.transition="left .5s";let i=t.children,s=window.getComputedStyle(i[0]).getPropertyValue("width"),a=(s=parseInt(s.substring(0,s.length-2)),window.getComputedStyle(i[0]).getPropertyValue("margin-right"));a=parseInt(a.substring(0,a.length-2));const l=t.closest('[data-slider="inner"]'),r=o.querySelector('[data-arrow="right"]'),d=o.querySelector('[data-arrow="left"]');let c,m=(o.hasAttribute("data-anim")&&"true"===o.getAttribute("data-anim")&&(c=document.querySelector(".top-slider__btn-box")),1),u,A=1,f=[],v,g,h,b,p,L,y,w=0;if(o.hasAttribute("data-dots")?"true"===o.getAttribute("data-dots")&&(v=!0):v=!1,o.hasAttribute("data-center-mode")){if("true"===o.getAttribute("data-center-mode")){g=!0;for(let e=0;e<document.documentElement.clientWidth/s;e++)w++;u=-(s*w-(document.documentElement.clientWidth-s)/2),t.style.left=-u+(-2*s+(document.documentElement.clientWidth-s)/2)+"px",n.style.left=-(s*w-(document.documentElement.clientWidth-s)/2)+"px"}}else g=!1,u=-s-a,n.style.left=-s-a+"px";if(o.hasAttribute("data-autoplay")&&(L=!0,y=parseFloat(o.getAttribute("data-autoplay"))),v){const k=o.querySelector('[data-slider="dots-box"]');for(let e=0;e<i.length;e++){const I=document.createElement("button");I.classList.add("dot"),I.textContent=e+1,I.dataset.id=e+1,f.push(I),k.append(I)}f[0].classList.add("active"),f.forEach(t=>{t.addEventListener("click",()=>{var e=parseInt(t.getAttribute("data-id"));e>A?(h=Math.abs(e-A),_()):e<A&&(b=Math.abs(A-e),S())})})}function E(){if(L&&(c.classList.remove("active"),clearInterval(p),p=null),-1===m&&(m+=i.length),0===(A=m%i.length)&&(A=i.length),g)for(let e=0;e<i.length;e++)i[e].classList.remove("active");setTimeout(()=>{i[(A+i.length-1)%i.length].style.order="1";for(let e=i.length-1;0<e;e--)i[(A+e-1)%i.length].style.order=(e+2).toString();if(g){t.style.left=-u+(-2*s+(document.documentElement.clientWidth-s)/2)+"px";for(let e=0;e<i.length;e++)"4"===i[e].style.order&&i[e].classList.add("active")}else t.style.left=-u-(s+a)+"px";v&&(f.forEach(e=>e.classList.remove("active")),f[A-1].classList.add("active")),0<b&&0<--b&&S(),0<h&&0<--h&&_(),L&&null===p&&(p=setInterval(_,1e3*y),c.classList.add("active"))},500)}function _(){u-=s+a,n.style.left=u+"px",m+=1,E()}function S(){u+=s+a,n.style.left=u+"px",--m,E()}r.addEventListener("click",()=>{_()}),d.addEventListener("click",()=>{S()});let x;l.addEventListener("touchstart",function(){x=0}),l.addEventListener("touchmove",function(e){let t=e.targetTouches[0];0===x&&(x=t.pageX);let n;l.ontouchend=()=>{n=t.pageX,x>n&&_(),x<n&&S()}}),l.onmousedown=e=>{let t=e.pageX,n;l.onmouseup=e=>{n=e.pageX,t>n&&_(),t<n&&S()}},L&&(p=setInterval(_,1e3*y),c.classList.add("active"))}menuBtn.addEventListener("click",menuFunction),menuResize(),check_webp_feature("lossy",function(e,t){t?topSliderItems.forEach(e=>e.style.backgroundImage=e.style.backgroundImage+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"):topSliderItems.forEach(e=>{let t=e.style.backgroundImage.toString();t=t.slice(0,-6)+'jpg")',e.style.backgroundImage=t+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"})});const modalsBtn=[].slice.call(document.querySelectorAll('button[data-modal="modal"]')),modalWindow=document.querySelector(".modal"),modalInner=document.querySelector(".modal__inner"),form=document.querySelector(".modal__form"),modalBg=document.querySelector(".modal__bg"),modalBtnClose=document.querySelector(".btn__modal--close"),modalTitle=document.querySelector(".modal__title"),modalTextarea=document.querySelector(".modal__textarea"),modalCheckbox=document.querySelector(".modal__checkbox"),modalText=document.querySelector(".modal__text "),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){function e(){input1.value="",input2.value="",modalWindow.classList.remove("active"),input1.classList.remove("invalid"),input2.classList.remove("invalid"),modalTextarea.value=""}form.addEventListener("submit",function(e){e.preventDefault();let t=3;var e=input1.value,n=input2.value;""===n&&(input2.classList.add("invalid"),t--);""===e&&(input1.classList.add("invalid"),t--);modalCheckbox.checked||(modalCheckbox.closest("label").classList.add("invalid"),t--);3<=t&&(form.classList.add("close"),modalInner.classList.add("thanked"),modalBtnClose.classList.add("thanked"),modalTitle.textContent="Дякуюємо!",modalText.textContent="Ваша заявка успішно відправилена")}),modalsBtn.forEach(e=>{e.addEventListener("click",function(){modalWindow.classList.add("active"),form.classList.remove("close"),modalBtnClose.classList.remove("thanked"),modalInner.classList.remove("thanked"),"1"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Хочете отримати подарунок?",modalText.textContent="Заповніть форму,  і ми звяжемося та розповімо про умови акції",modalTextarea.classList.remove("active")):"2"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Поговоримо?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextarea.setAttribute("placeholder","Тема")):"3"===e.getAttribute("data-modal-num")&&(modalTitle.textContent="Хочете стати нашим партнером?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextarea.setAttribute("placeholder","Коротко про себе"))})}),modalBg.addEventListener("click",function(){e()}),modalBtnClose.addEventListener("click",function(){e()}),input1.addEventListener("input",()=>input1.classList.remove("invalid")),input2.addEventListener("input",()=>input2.classList.remove("invalid")),modalCheckbox.addEventListener("change",()=>{modalCheckbox.closest("label").classList.remove("invalid")})}modal();const forms=[].slice.call(document.querySelectorAll('form[data-form="thank"]'));function formThank(){function t(e){e.preventDefault()}forms.forEach(a=>{a.addEventListener("submit",t);const e=a.querySelector('button[type="submit"]');e.addEventListener("click",()=>{const e=[].slice.call(a.querySelectorAll("input"));let t=0;if(e.forEach(e=>{e.addEventListener("input",()=>e.classList.remove("invalid")),""===e.value&&"file"!==e.getAttribute("type")?e.classList.add("invalid"):""===e.value&&"file"===e.getAttribute("type")?(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):"checkbox"===e.getAttribute("type")?e.checked?t++:(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):""!==e.value&&"checkbox"!==e.getAttribute("type")&&t++}),t>=e.length){const n=a.closest('div[data-form="change"]'),o=(n.classList.add("active"),a.closest('div[data-form="parent"]')),i=o.querySelector('div[data-form="thank"]'),s=(i.classList.add("active"),n.classList.remove("resend"),i.classList.remove("resend"),i.querySelector('button[data-form="resend"]'));s.addEventListener("click",()=>{n.classList.remove("active"),n.classList.add("resend"),i.classList.add("resend"),i.classList.remove("active")})}})})}formThank();const benefitsAnimation=document.querySelector(".benefits__anim"),benefitsItems=benefitsAnimation.querySelectorAll(".benefits__item");let cords,itemsHeight=[],itemsCords=[];function benefitsPrev(){cords=getCoords(benefitsAnimation),itemsHeight=[],itemsCords=[],benefitsItems.forEach(e=>{itemsHeight.push(e.offsetHeight)});for(let n=0;n<benefitsItems.length;n++){let t=0;for(let e=0;e<=n;e++)t+=itemsHeight[e];itemsCords.push(t+cords.top)}}function benefitsMouseout(){benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")})}function benefits(t){let n;for(let e=0;e<itemsCords.length;e++){if(Math.floor(itemsCords[e]+60)>Math.floor(t.pageY)){n=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),n.style.transition="height .3s",benefitsItems[e].classList.add("active"),n.classList.add("active");break}Math.floor(itemsCords[e]+120)>Math.floor(t.pageY)&&itemsCords.length-1===e&&(n=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),benefitsItems[e].classList.add("active"),n.classList.add("active"),n.style.transition="height .05s")}n.style.top=t.pageY-cords.top-120+"px",n.style.left=t.pageX-170+"px"}function getCoords(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}}839<document.documentElement.clientWidth?(benefitsPrev(),benefitsAnimation.addEventListener("mousemove",benefits),benefitsAnimation.addEventListener("mouseout",benefitsMouseout)):(benefitsAnimation.removeEventListener("mousemove",benefits),benefitsAnimation.removeEventListener("mouseout",benefitsMouseout));const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120,scrollItems=(anchors.forEach(function(i){i.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(i.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,n=t-window.pageYOffset,o=setInterval(function(){var e=Math.abs(n)/framesCount;0<n?e>window.pageYOffset-t&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,t),clearInterval(o)):n<0?e<window.pageYOffset-t?window.scrollBy(0,-e):(window.scrollTo(0,t),clearInterval(o)):n&&clearInterval(o)},animationTime/framesCount)})}),document.querySelectorAll(".animate")),scrollAnimation=()=>{let n=window.innerHeight+window.scrollY;scrollItems.forEach(e=>{var t=getCoords(e).top+e.offsetHeight/2;n-e.offsetHeight>=t&&n-window.innerHeight<t&&e.classList.add("animation-active")})};scrollAnimation(),window.addEventListener("scroll",()=>{scrollAnimation()}),slider(".top-slider__content"),slider(".in-work-slider__content"),slider(".partners-slider__content"),window.addEventListener("resize",()=>{menuResize(),839<document.documentElement.clientWidth?(benefitsPrev(),benefitsAnimation.addEventListener("mousemove",benefits),benefitsAnimation.addEventListener("mouseout",benefitsMouseout)):(benefitsAnimation.removeEventListener("mousemove",benefits),benefitsAnimation.removeEventListener("mouseout",benefitsMouseout))});